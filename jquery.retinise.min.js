/*  RETINISE.JS --------------------------------------------------*
	
	Author:		Simon Sturgess
			@dahliacreative
			simon@dahliacreative.com
			http://www.dahliacreative.com
					
	Thanks to:	Pedro Piedade
			@iampedropiedade
			http://pedropiedade.com/
					
	Documentation:	http://www.dahliacreative.com/retinisejs
	
	Release date:	27/09/2012
	Version:	v.1.0
	Licensing:	Â© Copyright 2012 DahliaCreative.
			Free to use under the GPLv2 license.
			http://www.gnu.org/licenses/gpl-2.0.html
					
*--------------------------------------------------------------------*/
(function(e){e.fn.extend({retinise:function(t){var n={suffix:"@2x",srcattr:"data-src",altattr:"data-alt"};var t=e.extend(n,t);var r=window.devicePixelRatio;var i=r>1?true:false;e(this).each(function(){var n=e(this);n.css("display","none");if(n.attr(t.srcattr)!==null){var s=n.attr(t.srcattr);var o=n.attr(t.altattr);if(i===true){n.attr({src:s.replace(/\.\w+$/,function(e){return t.suffix+e}),alt:o});n.load(function(){var e=n.height()/r;var t=n.width()/r;n.attr({height:e,width:t}).css("display","block")})}else{n.attr({src:s,alt:o}).css("display","block")}}})}})})(jQuery)
